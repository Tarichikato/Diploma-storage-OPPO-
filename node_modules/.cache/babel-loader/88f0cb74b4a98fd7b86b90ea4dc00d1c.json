{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/Documents/BC_Projects/OPPO-DS/src/components/CreateStudent.js\";\nimport React, { Component } from 'react';\nimport { createContract } from './../ethereum/DiplomaStorageContract';\nimport { Table, Button, Form, Checkbox } from 'semantic-ui-react';\nimport Web3 from 'web3';\nimport { web3 } from '../ethereum/web3';\nexport class CreateStudent extends Component {\n  async componentDidMount() {\n    this.loadBcData();\n    const contract = createContract(this.getDiplomaStorageAddress());\n    this.setState({\n      contract\n    });\n    console.log(\"contrat\", contract);\n    this.getContractState(contract);\n  }\n\n  async getStudentId(INE, firstName, lastName, birth) {\n    const contract = createContract(this.getDiplomaStorageAddress());\n    const id = await contract.methods.checkStudent(INE, firstName, lastName, birth).call();\n    console.log('id', id);\n  }\n\n  async getContractState(contract) {\n    this.setState({\n      loading: true\n    });\n    const master = contract.methods.master().call();\n    console.log('master');\n    const studentCount = await contract.methods.studentCount().call();\n    this.setState({\n      studentCount: studentCount\n    });\n    console.log('studentCount GCS', studentCount);\n  }\n\n  async loadBcData() {\n    const web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\");\n    const network = await web3.eth.net.getNetworkType();\n    console.log(\"network\", network);\n    const accounts = await web3.eth.getAccounts();\n    console.log(\"account\", accounts[0]);\n    this.setState({\n      account: accounts[0]\n    });\n    console.log(\"addresseContrat\", this.getDiplomaStorageAddress());\n    const contract = createContract(this.getDiplomaStorageAddress());\n    this.setState({\n      contract\n    });\n    const studentCount = await this.state.contract.methods.studentCount().call();\n    this.setState({\n      studentCount: studentCount\n    });\n    console.log('stuentCount LBD', studentCount);\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      idStudent: 0,\n      INE: 0,\n      fisrtName: 'N/A',\n      lastName: 'N/A',\n      birth: 0,\n      studentCount: 0\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.state = {\n      idStudent: 0,\n      INE: 0,\n      fisrtName: 'N/A',\n      lastName: 'N/A',\n      birth: 0,\n      studentCount: 0\n    };\n  }\n\n  getDiplomaStorageAddress() {\n    return '0x68B9CE886FbA55cE1E18e448aA92E21812903323';\n  }\n\n  async getStudent(address, id) {\n    const contract = createContract(address);\n    this.setState({\n      contract\n    });\n    console.log(contract);\n    const student = await contract.methods.students(id).call();\n    this.setState({\n      students: [student]\n    });\n    console.log(\"student\", this.state.students);\n    const studentCount = await contract.methods.studentCount().call();\n    this.setState({\n      studentCount\n    });\n  }\n\n  async createStudent(INE, firstName, lastName, birth) {\n    this.setState({\n      loading: true\n    });\n    const contract = createContract(this.getDiplomaStorageAddress());\n    this.setState({\n      contract\n    });\n    contract.methods.createStudent(INE, firstName, lastName, birth).send({\n      from: '0xeFb7aFb416f0626a8f08AD4bF397773355E702ef'\n    });\n    const studentCount = await contract.methods.studentCount().call();\n    this.setState({\n      studentCount: studentCount\n    });\n    console.log(\"studentCount2\", studentCount);\n  }\n\n  async onChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    console.log(name, value, this.state);\n    this.setState({\n      [name]: value\n    });\n    console.log(name, value, this.state);\n  }\n\n  async onSubmit(event) {\n    event.preventDefault();\n    await this.createStudent(this.state.INE, this.state.firstName, this.state.lastName, this.state.birth);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 1\n      }\n    }, \"Account : \", this.state.account), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 1\n      }\n    }, \"StudentCount : \", this.state.studentCount), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 1\n      }\n    }, \"Contract address: \", this.getDiplomaStorageAddress()), /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }\n    }, \"INE :\", /*#__PURE__*/React.createElement(\"input\", {\n      placeholder: \"Enter INE here\",\n      name: \"INE\",\n      type: \"number\" //value={this.state.INE}\n      ,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }\n    }, \"firstName :\", /*#__PURE__*/React.createElement(\"input\", {\n      placeholder: \"First Name\",\n      name: \"firstName\",\n      type: \"text\" //value={this.state.firstName}\n      ,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }\n    }, \"lastName :\", /*#__PURE__*/React.createElement(\"input\", {\n      placeholder: \"Last Name\",\n      name: \"lastName\",\n      type: \"text\" //value={this.state.lastName}\n      ,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }\n    }, \"Birth :\", /*#__PURE__*/React.createElement(\"input\", {\n      placeholder: \"Birth\",\n      name: \"birth\",\n      type: \"number\" //value={this.state.birth}\n      ,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }\n    }))), /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      onClick: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 7\n      }\n    }, \"Submit\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }\n    }, \"INE: \", this.state.INE), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }\n    }, \"FirstName: \", this.state.firstName), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }\n    }, \"LastName: \", this.state.lastName), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }\n    }, \"Birth: \", this.state.birth));\n  }\n\n}\nexport default CreateStudent;","map":{"version":3,"sources":["/home/ubuntu/Documents/BC_Projects/OPPO-DS/src/components/CreateStudent.js"],"names":["React","Component","createContract","Table","Button","Form","Checkbox","Web3","web3","CreateStudent","componentDidMount","loadBcData","contract","getDiplomaStorageAddress","setState","console","log","getContractState","getStudentId","INE","firstName","lastName","birth","id","methods","checkStudent","call","loading","master","studentCount","givenProvider","network","eth","net","getNetworkType","accounts","getAccounts","account","state","constructor","props","idStudent","fisrtName","onChange","bind","onSubmit","getStudent","address","student","students","createStudent","send","from","event","target","value","name","preventDefault","render"],"mappings":"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","sourcesContent":["import React, { Component }  from 'react'\nimport { createContract } from './../ethereum/DiplomaStorageContract'\nimport { Table, Button,Form,Checkbox } from 'semantic-ui-react'\nimport Web3 from 'web3'\nimport { web3 } from '../ethereum/web3'\n\n\n\nexport class CreateStudent extends Component {\n\n    state = {\n       \n            idStudent: 0,\n            INE: 0,\n            fisrtName: 'N/A',\n            lastName: 'N/A',\n            birth: 0,\n            studentCount: 0,\n        \n\n    }\n\n  async componentDidMount () {\n    this.loadBcData()\n    const contract = createContract(this.getDiplomaStorageAddress())\n    this.setState({contract})\n    console.log(\"contrat\",contract)\n    this.getContractState(contract)  \n  }\n\n  async getStudentId(INE,firstName,lastName,birth){\n    const contract = createContract(this.getDiplomaStorageAddress())\n    const id = await contract.methods.checkStudent(INE,firstName,lastName,birth).call()\n    console.log('id',id)\n  }\n\n  async getContractState(contract){\n    this.setState({loading:true})\n    const master = contract.methods.master().call()\n    console.log('master')\n    const studentCount = await contract.methods.studentCount().call()\n    this.setState({studentCount: studentCount})\n    console.log('studentCount GCS',studentCount)\n  }\n\n  async loadBcData(){\n    const web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\")\n    const network = await web3.eth.net.getNetworkType()\n    console.log(\"network\",network)\n    const accounts = await web3.eth.getAccounts()\n    console.log(\"account\", accounts[0])\n    this.setState({account: accounts[0]})\n    console.log(\"addresseContrat\",this.getDiplomaStorageAddress())\n\n    const contract = createContract(this.getDiplomaStorageAddress())\n    this.setState({contract})\n    const studentCount = await this.state.contract.methods.studentCount().call()\n    this.setState({studentCount: studentCount})\n    console.log('stuentCount LBD',studentCount)\n  }\n \n  constructor(props) {\n    super(props)\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.state = {\n      \n      idStudent: 0,\n      INE: 0,\n      fisrtName: 'N/A',\n      lastName: 'N/A',\n      birth: 0,\n      studentCount: 0,\n    }\n  }\n  \n  \n  getDiplomaStorageAddress () {\n    return '0x68B9CE886FbA55cE1E18e448aA92E21812903323'\n  }\n\n  async getStudent(address,id) {\n    const contract = createContract(address)\n    \n    this.setState({ contract })\n    console.log(contract)\n\n    const student = await contract.methods.students(id).call()\n    this.setState({\n        students: [student]\n    })\n    console.log(\"student\", this.state.students)\n\n    const studentCount = await contract.methods.studentCount().call()\n    this.setState({studentCount})\n  }\n\n  \n\n\n   async createStudent(INE, firstName, lastName, birth) {\n    this.setState({loading:true})\n    const contract = createContract(this.getDiplomaStorageAddress())\n    this.setState({contract})\n    contract.methods.createStudent(INE,firstName,lastName,birth).send({ from: '0xeFb7aFb416f0626a8f08AD4bF397773355E702ef' })\n    const studentCount = await contract.methods.studentCount().call()\n    this.setState({studentCount: studentCount})\n    console.log(\"studentCount2\",studentCount)\n  } \n\n  async onChange(event) {\n    \n    const target = event.target;\n    const value =  target.value;\n    const name = target.name;\n    console.log(name,value,this.state) \n    this.setState({\n      [name]: value\n    });\n    console.log(name,value,this.state)  \n}\n\n\n\n\n\n  async onSubmit(event) {\n  event.preventDefault();\n  await this.createStudent(this.state.INE,this.state.firstName,this.state.lastName,this.state.birth)\n}\n\n \n\n          render() {\n    return (\n\n      \n      \n        <div>\n\n<p>Account : {this.state.account}</p>\n\n<p>StudentCount : {this.state.studentCount}</p>\n\n<p>Contract address: {this.getDiplomaStorageAddress()}</p>\n\n\n<form>\n        <label>\n          INE :\n          <input\n            placeholder= 'Enter INE here'\n            name=\"INE\"\n            type=\"number\"\n            //value={this.state.INE}\n            onChange={this.onChange} />\n        </label>\n        <br />\n        <label>\n          firstName :\n          <input\n            placeholder='First Name'\n            name=\"firstName\"\n            type=\"text\"\n            //value={this.state.firstName}\n            onChange={this.onChange} />\n        </label>\n        <br />\n        <label>\n          lastName :\n          <input\n            placeholder='Last Name'\n            name=\"lastName\"\n            type=\"text\"\n            //value={this.state.lastName}\n            onChange={this.onChange} />\n        </label>\n        <br />\n        <label>\n          Birth :\n          <input\n            placeholder='Birth'\n            name=\"birth\"\n            type=\"number\"\n            //value={this.state.birth}\n            onChange={this.onChange} />\n        </label>\n      </form>\n\n      <Button\n          type='submit'\n          onClick={this.onSubmit}\n          >\n          Submit\n      </Button>\n\n          \n        \n\n        <p>INE: {this.state.INE}</p>\n        <p>FirstName: {this.state.firstName}</p>\n        <p>LastName: {this.state.lastName}</p>\n        <p>Birth: {this.state.birth}</p>\n        \n        </div>\n    );\n  }\n}\n\nexport default CreateStudent;"]},"metadata":{},"sourceType":"module"}