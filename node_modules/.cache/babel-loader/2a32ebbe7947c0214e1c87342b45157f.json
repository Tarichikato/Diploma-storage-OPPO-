{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/Documents/BC_Projects/OPPO-DS/src/components/CheckDiploma.js\";\nimport React, { Component } from 'react';\nimport { createContract } from '../ethereum/DiplomaStorageContract';\nimport { Table } from 'semantic-ui-react';\nimport Web3 from 'web3';\nimport { web3 } from '../ethereum/web3';\nimport { Button, Header, Form, Checkbox } from 'semantic-ui-react';\nexport class CheckDiploma extends Component {\n  async componentDidMount() {\n    this.loadBcData();\n    const contract = createContract(this.getDiplomaStorageAddress());\n    this.setState({\n      contract\n    });\n    console.log(\"contrat\", contract);\n    this.getContractState(contract); //await this.getDiploma(this.getDiplomaStorageAddress(),this.state.id)\n  }\n\n  async getDiplomaId(INE, firstName, lastName, birth, dYear, nameDegree, nameSchool) {\n    const contract = createContract(this.getDiplomaStorageAddress());\n    const id = await contract.methods.getIdDiploma(INE, firstName, lastName, birth, dYear, nameDegree, 'Telecom Sud Paris').call();\n    this.setState({\n      id\n    });\n    console.log('idGetDiplomaID', id);\n    return id;\n  }\n\n  async getContractState(contract) {\n    this.setState({\n      loading: true\n    });\n    const master = await contract.methods.master().call();\n    console.log('master', master);\n    const diplomaCount = await contract.methods.diplomaCount().call();\n    this.setState({\n      diplomaCount: diplomaCount\n    });\n    console.log('dilplomaCount GCS', diplomaCount);\n  }\n\n  async loadBcData() {\n    const web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\");\n    const network = await web3.eth.net.getNetworkType();\n    console.log(\"network\", network);\n    const accounts = await web3.eth.getAccounts();\n    console.log(\"account\", accounts[0]);\n    this.setState({\n      account: accounts[0]\n    });\n    console.log(\"addresseContrat\", this.getDiplomaStorageAddress());\n    const contract = createContract(this.getDiplomaStorageAddress());\n    this.setState({\n      contract\n    });\n    const diplomaCount = await this.state.contract.methods.diplomaCount().call();\n    this.setState({\n      diplomaCount: diplomaCount\n    });\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      gotIt: \"\",\n      INE: 0,\n      firstName: 'N/A',\n      lastName: 'N/A',\n      birth: 0,\n      id: 0,\n      dYear: 0,\n      nameDegree: '',\n      nameSchool: '',\n      diplomas: {\n        id: 0,\n        INE: 0,\n        firstName: '',\n        lastName: '',\n        birth: 0,\n        idDegree: 0,\n        nameDegree: 0,\n        schoolName: 'N/A'\n      }\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.state = {\n      gotIt: '',\n      contract: createContract(this.getDiplomaStorageAddress()),\n      INE: 0,\n      firstName: 'N/A',\n      lastName: 'N/A',\n      birth: 0,\n      id: 0,\n      dYear: 0,\n      nameDegree: 'N/A',\n      nameSchool: 'N/A',\n      account: '',\n      diplomaCount: 0,\n      diplomas: []\n    };\n  }\n\n  getDiplomaStorageAddress() {\n    return '0x64399f5759209029856F40854699f65e57ED4225';\n  }\n\n  async getDiploma(address, id) {\n    const contract = createContract(address);\n    this.setState({\n      contract\n    });\n    console.log(contract);\n    const diploma = await contract.methods.diplomas(id).call();\n    this.setState({\n      diplomas: [diploma]\n    });\n    console.log(\"diploma\", this.state.diplomas);\n    const diplomaCount = await contract.methods.diplomaCount().call();\n    this.setState({\n      diplomaCount\n    });\n  }\n\n  async onChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    await this.setState({\n      [name]: value\n    });\n    console.log(name, value, this.state);\n  }\n\n  async onSubmit(event) {\n    const contract = createContract(this.getDiplomaStorageAddress());\n    event.preventDefault();\n    const id = await this.getDiplomaId(this.state.INE, this.state.firstName, this.state.lastName, this.state.birth, this.state.dYear, this.state.nameDegree, this.state.nameSchool);\n    console.log('idf', id);\n\n    if (id > 0) {\n      this.setState({\n        gotIt: \"HO YEAY BROOOOOO YOU GOT IT\"\n      });\n    } else {\n      this.setState({\n        gotIt: \"SORRY BRO\"\n      });\n    }\n\n    await this.getDiploma(this.getDiplomaStorageAddress(), parseInt(id));\n    await this.getDiploma(this.getDiplomaStorageAddress(), this.state.id);\n    console.log('student', this.state.student);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }\n    }, \"INE :\", /*#__PURE__*/React.createElement(\"input\", {\n      name: \"INE\",\n      type: \"number\",\n      value: this.state.INE,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }\n    }, \"firstName :\", /*#__PURE__*/React.createElement(\"input\", {\n      name: \"firstName\",\n      type: \"text\",\n      value: this.state.firstName,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }\n    }, \"lastName :\", /*#__PURE__*/React.createElement(\"input\", {\n      name: \"lastName\",\n      type: \"text\",\n      value: this.state.lastName,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }\n    }, \"Birth :\", /*#__PURE__*/React.createElement(\"input\", {\n      name: \"birth\",\n      type: \"number\",\n      value: this.state.birth,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }\n    }, \"Degree Year :\", /*#__PURE__*/React.createElement(\"input\", {\n      name: \"dYear\",\n      type: \"number\",\n      value: this.state.dYear,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }\n    }, \"Title of the Degree :\", /*#__PURE__*/React.createElement(\"input\", {\n      name: \"nameDegree\",\n      type: \"text\",\n      value: this.state.nameDegree,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }\n    }, \"Name of the School :\", /*#__PURE__*/React.createElement(\"input\", {\n      name: \"schoolName\",\n      type: \"text\",\n      value: this.state.schoolName,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 11\n      }\n    }))), /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      onClick: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 7\n      }\n    }, \"Submit\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 11\n      }\n    }, \"Account : \", this.state.account), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 11\n      }\n    }, \"Diploma Id: \", this.state.diplomaId, \" \"), /*#__PURE__*/React.createElement(Header, {\n      as: \"h1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 5\n      }\n    }, this.state.firstName, \" \", this.state.lastName, \" \", this.state.gotIt, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 11\n      }\n    }, \"StudentCount : \", this.state.diplomaCount), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 11\n      }\n    }, \"Contract address: \", this.getDiplomaStorageAddress()), /*#__PURE__*/React.createElement(Table, {\n      celled: true,\n      padded: true,\n      color: \"yellow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Table.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Table.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Table.HeaderCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 25\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(Table.HeaderCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 25\n      }\n    }, \"Value\"))), /*#__PURE__*/React.createElement(Table.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Table.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Table.Cell, {\n      sigleline: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 21\n      }\n    }, \"Diploma\"), /*#__PURE__*/React.createElement(Table.Cell, {\n      sigleline: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      id: \"taskList\",\n      className: \"list-unstyled\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 17\n      }\n    }, this.state.diplomas.map((diploma, key) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"taskTemplate\",\n        key: key,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 17\n        }\n      }, diploma.id);\n    })))), /*#__PURE__*/React.createElement(Table.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Table.Cell, {\n      ssigleline: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 21\n      }\n    }, \"INE\"), /*#__PURE__*/React.createElement(Table.Cell, {\n      sigleline: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      id: \"taskList\",\n      className: \"list-unstyled\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 21\n      }\n    }, this.state.diplomas.map((diploma, key) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"taskTemplate\",\n        key: key,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 17\n        }\n      }, diploma.INE);\n    })))), /*#__PURE__*/React.createElement(Table.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Table.Cell, {\n      sigleline: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 21\n      }\n    }, \"First Name\"), /*#__PURE__*/React.createElement(Table.Cell, {\n      sigleline: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      id: \"taskList\",\n      className: \"list-unstyled\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 21\n      }\n    }, this.state.diplomas.map((diploma, key) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"taskTemplate\",\n        key: key,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 17\n        }\n      }, diploma.firstName);\n    })))), /*#__PURE__*/React.createElement(Table.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Table.Cell, {\n      sigleline: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 21\n      }\n    }, \"Last Name\"), /*#__PURE__*/React.createElement(Table.Cell, {\n      sigleline: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      id: \"taskList\",\n      className: \"list-unstyled\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 21\n      }\n    }, this.state.diplomas.map((diploma, key) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"taskTemplate\",\n        key: key,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 17\n        }\n      }, diploma.lastName);\n    })))), /*#__PURE__*/React.createElement(Table.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Table.Cell, {\n      sigleline: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 21\n      }\n    }, \"Birthday\"), /*#__PURE__*/React.createElement(Table.Cell, {\n      sigleline: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      id: \"taskList\",\n      className: \"list-unstyled\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 21\n      }\n    }, this.state.diplomas.map((diploma, key) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"taskTemplate\",\n        key: key,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 17\n        }\n      }, diploma.birth);\n    })))))));\n  }\n\n}\nexport default CheckDiploma;","map":{"version":3,"sources":["/home/ubuntu/Documents/BC_Projects/OPPO-DS/src/components/CheckDiploma.js"],"names":["React","Component","createContract","Table","Web3","web3","Button","Header","Form","Checkbox","CheckDiploma","componentDidMount","loadBcData","contract","getDiplomaStorageAddress","setState","console","log","getContractState","getDiplomaId","INE","firstName","lastName","birth","dYear","nameDegree","nameSchool","id","methods","getIdDiploma","call","loading","master","diplomaCount","givenProvider","network","eth","net","getNetworkType","accounts","getAccounts","account","state","constructor","props","gotIt","diplomas","idDegree","schoolName","onChange","bind","onSubmit","getDiploma","address","diploma","event","target","value","name","preventDefault","parseInt","student","render","diplomaId","map","key"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAkC,OAAlC;AACA,SAASC,cAAT,QAA+B,oCAA/B;AACA,SAASC,KAAT,QAAsB,mBAAtB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,MAAT,EAAiBC,MAAjB,EAAyBC,IAAzB,EAA+BC,QAA/B,QAA8C,mBAA9C;AAKA,OAAO,MAAMC,YAAN,SAA2BT,SAA3B,CAAqC;AA0B1C,QAAMU,iBAAN,GAA2B;AACzB,SAAKC,UAAL;AACA,UAAMC,QAAQ,GAAGX,cAAc,CAAC,KAAKY,wBAAL,EAAD,CAA/B;AACA,SAAKC,QAAL,CAAc;AAACF,MAAAA;AAAD,KAAd;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAsBJ,QAAtB;AACA,SAAKK,gBAAL,CAAsBL,QAAtB,EALyB,CAMzB;AACD;;AAED,QAAMM,YAAN,CAAmBC,GAAnB,EAAuBC,SAAvB,EAAiCC,QAAjC,EAA0CC,KAA1C,EAAgDC,KAAhD,EAAsDC,UAAtD,EAAiEC,UAAjE,EAA4E;AAC1E,UAAMb,QAAQ,GAAGX,cAAc,CAAC,KAAKY,wBAAL,EAAD,CAA/B;AACA,UAAMa,EAAE,GAAG,MAAMd,QAAQ,CAACe,OAAT,CAAiBC,YAAjB,CAA8BT,GAA9B,EAAkCC,SAAlC,EAA4CC,QAA5C,EAAqDC,KAArD,EAA2DC,KAA3D,EAAiEC,UAAjE,EAA4E,mBAA5E,EAAiGK,IAAjG,EAAjB;AACA,SAAKf,QAAL,CAAc;AAACY,MAAAA;AAAD,KAAd;AACAX,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA6BU,EAA7B;AACA,WAAOA,EAAP;AACD;;AAED,QAAMT,gBAAN,CAAuBL,QAAvB,EAAgC;AAC9B,SAAKE,QAAL,CAAc;AAACgB,MAAAA,OAAO,EAAC;AAAT,KAAd;AACA,UAAMC,MAAM,GAAG,MAAMnB,QAAQ,CAACe,OAAT,CAAiBI,MAAjB,GAA0BF,IAA1B,EAArB;AACAd,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAqBe,MAArB;AACA,UAAMC,YAAY,GAAG,MAAMpB,QAAQ,CAACe,OAAT,CAAiBK,YAAjB,GAAgCH,IAAhC,EAA3B;AACA,SAAKf,QAAL,CAAc;AAACkB,MAAAA,YAAY,EAAEA;AAAf,KAAd;AACAjB,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAgCgB,YAAhC;AACD;;AAED,QAAMrB,UAAN,GAAkB;AAChB,UAAMP,IAAI,GAAG,IAAID,IAAJ,CAASA,IAAI,CAAC8B,aAAL,IAAsB,uBAA/B,CAAb;AACA,UAAMC,OAAO,GAAG,MAAM9B,IAAI,CAAC+B,GAAL,CAASC,GAAT,CAAaC,cAAb,EAAtB;AACAtB,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAsBkB,OAAtB;AACA,UAAMI,QAAQ,GAAG,MAAMlC,IAAI,CAAC+B,GAAL,CAASI,WAAT,EAAvB;AACAxB,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBsB,QAAQ,CAAC,CAAD,CAA/B;AACA,SAAKxB,QAAL,CAAc;AAAC0B,MAAAA,OAAO,EAAEF,QAAQ,CAAC,CAAD;AAAlB,KAAd;AACAvB,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA8B,KAAKH,wBAAL,EAA9B;AAEA,UAAMD,QAAQ,GAAGX,cAAc,CAAC,KAAKY,wBAAL,EAAD,CAA/B;AACA,SAAKC,QAAL,CAAc;AAACF,MAAAA;AAAD,KAAd;AACA,UAAMoB,YAAY,GAAG,MAAM,KAAKS,KAAL,CAAW7B,QAAX,CAAoBe,OAApB,CAA4BK,YAA5B,GAA2CH,IAA3C,EAA3B;AACA,SAAKf,QAAL,CAAc;AAACkB,MAAAA,YAAY,EAAEA;AAAf,KAAd;AACD;;AAEDU,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AADiB,SAhEjBF,KAgEiB,GAhET;AACJG,MAAAA,KAAK,EAAE,EADH;AAEJzB,MAAAA,GAAG,EAAE,CAFD;AAGJC,MAAAA,SAAS,EAAE,KAHP;AAIJC,MAAAA,QAAQ,EAAE,KAJN;AAKJC,MAAAA,KAAK,EAAE,CALH;AAMJI,MAAAA,EAAE,EAAE,CANA;AAOJH,MAAAA,KAAK,EAAG,CAPJ;AAQJC,MAAAA,UAAU,EAAG,EART;AASJC,MAAAA,UAAU,EAAG,EATT;AAUJoB,MAAAA,QAAQ,EAAE;AACNnB,QAAAA,EAAE,EAAE,CADE;AAENP,QAAAA,GAAG,EAAE,CAFC;AAGNC,QAAAA,SAAS,EAAE,EAHL;AAINC,QAAAA,QAAQ,EAAE,EAJJ;AAKNC,QAAAA,KAAK,EAAE,CALD;AAMNwB,QAAAA,QAAQ,EAAE,CANJ;AAONtB,QAAAA,UAAU,EAAE,CAPN;AAQNuB,QAAAA,UAAU,EAAE;AARN;AAVN,KAgES;AAEjB,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcD,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKR,KAAL,GAAa;AACXG,MAAAA,KAAK,EAAE,EADI;AAEXhC,MAAAA,QAAQ,EAAEX,cAAc,CAAC,KAAKY,wBAAL,EAAD,CAFb;AAGXM,MAAAA,GAAG,EAAE,CAHM;AAIXC,MAAAA,SAAS,EAAE,KAJA;AAKXC,MAAAA,QAAQ,EAAE,KALC;AAMXC,MAAAA,KAAK,EAAE,CANI;AAOXI,MAAAA,EAAE,EAAG,CAPM;AAQXH,MAAAA,KAAK,EAAG,CARG;AASXC,MAAAA,UAAU,EAAG,KATF;AAUXC,MAAAA,UAAU,EAAG,KAVF;AAWXe,MAAAA,OAAO,EAAE,EAXE;AAYXR,MAAAA,YAAY,EAAE,CAZH;AAaXa,MAAAA,QAAQ,EAAE;AAbC,KAAb;AAiBD;;AAGDhC,EAAAA,wBAAwB,GAAI;AAC1B,WAAO,4CAAP;AACD;;AAED,QAAMsC,UAAN,CAAiBC,OAAjB,EAAyB1B,EAAzB,EAA6B;AAC3B,UAAMd,QAAQ,GAAGX,cAAc,CAACmD,OAAD,CAA/B;AAEA,SAAKtC,QAAL,CAAc;AAAEF,MAAAA;AAAF,KAAd;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;AAEA,UAAMyC,OAAO,GAAG,MAAMzC,QAAQ,CAACe,OAAT,CAAiBkB,QAAjB,CAA0BnB,EAA1B,EAA8BG,IAA9B,EAAtB;AACA,SAAKf,QAAL,CAAc;AACV+B,MAAAA,QAAQ,EAAE,CAACQ,OAAD;AADA,KAAd;AAGAtC,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuB,KAAKyB,KAAL,CAAWI,QAAlC;AAEA,UAAMb,YAAY,GAAG,MAAMpB,QAAQ,CAACe,OAAT,CAAiBK,YAAjB,GAAgCH,IAAhC,EAA3B;AACA,SAAKf,QAAL,CAAc;AAACkB,MAAAA;AAAD,KAAd;AACD;;AAMD,QAAMgB,QAAN,CAAeM,KAAf,EAAsB;AAElB,UAAMC,MAAM,GAAGD,KAAK,CAACC,MAArB;AACA,UAAMC,KAAK,GAAID,MAAM,CAACC,KAAtB;AACA,UAAMC,IAAI,GAAGF,MAAM,CAACE,IAApB;AAEA,UAAM,KAAK3C,QAAL,CAAc;AAClB,OAAC2C,IAAD,GAAQD;AADU,KAAd,CAAN;AAGAzC,IAAAA,OAAO,CAACC,GAAR,CAAYyC,IAAZ,EAAiBD,KAAjB,EAAuB,KAAKf,KAA5B;AACH;;AAMC,QAAMS,QAAN,CAAeI,KAAf,EAAsB;AACtB,UAAM1C,QAAQ,GAAGX,cAAc,CAAC,KAAKY,wBAAL,EAAD,CAA/B;AACAyC,IAAAA,KAAK,CAACI,cAAN;AACA,UAAMhC,EAAE,GAAG,MAAM,KAAKR,YAAL,CAAkB,KAAKuB,KAAL,CAAWtB,GAA7B,EAAiC,KAAKsB,KAAL,CAAWrB,SAA5C,EAAsD,KAAKqB,KAAL,CAAWpB,QAAjE,EAA0E,KAAKoB,KAAL,CAAWnB,KAArF,EACb,KAAKmB,KAAL,CAAWlB,KADE,EACI,KAAKkB,KAAL,CAAWjB,UADf,EAC0B,KAAKiB,KAAL,CAAWhB,UADrC,CAAjB;AAEAV,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAkBU,EAAlB;;AACA,QAAIA,EAAE,GAAG,CAAT,EAAY;AACV,WAAKZ,QAAL,CAAc;AAAC8B,QAAAA,KAAK,EAAG;AAAT,OAAd;AACD,KAFD,MAEM;AACJ,WAAK9B,QAAL,CAAc;AAAC8B,QAAAA,KAAK,EAAG;AAAT,OAAd;AACD;;AAED,UAAM,KAAKO,UAAL,CAAgB,KAAKtC,wBAAL,EAAhB,EAAgD8C,QAAQ,CAACjC,EAAD,CAAxD,CAAN;AACA,UAAM,KAAKyB,UAAL,CAAgB,KAAKtC,wBAAL,EAAhB,EAAgD,KAAK4B,KAAL,CAAWf,EAA3D,CAAN;AACAX,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAsB,KAAKyB,KAAL,CAAWmB,OAAjC;AAIH;;AAECC,EAAAA,MAAM,GAAG;AACP,wBAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAER;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAEE;AACE,MAAA,IAAI,EAAC,KADP;AAEE,MAAA,IAAI,EAAC,QAFP;AAGE,MAAA,KAAK,EAAE,KAAKpB,KAAL,CAAWtB,GAHpB;AAIE,MAAA,QAAQ,EAAE,KAAK6B,QAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADR,eASQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATR,eAUQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAEE;AACE,MAAA,IAAI,EAAC,WADP;AAEE,MAAA,IAAI,EAAC,MAFP;AAGE,MAAA,KAAK,EAAE,KAAKP,KAAL,CAAWrB,SAHpB;AAIE,MAAA,QAAQ,EAAE,KAAK4B,QAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAVR,eAkBQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAlBR,eAmBQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAEE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,IAAI,EAAC,MAFP;AAGE,MAAA,KAAK,EAAE,KAAKP,KAAL,CAAWpB,QAHpB;AAIE,MAAA,QAAQ,EAAE,KAAK2B,QAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAnBR,eA2BQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA3BR,eA4BQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAEE;AACE,MAAA,IAAI,EAAC,OADP;AAEE,MAAA,IAAI,EAAC,QAFP;AAGE,MAAA,KAAK,EAAE,KAAKP,KAAL,CAAWnB,KAHpB;AAIE,MAAA,QAAQ,EAAE,KAAK0B,QAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CA5BR,eAoCQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MApCR,eAqCQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAEE;AACE,MAAA,IAAI,EAAC,OADP;AAEE,MAAA,IAAI,EAAC,QAFP;AAGE,MAAA,KAAK,EAAE,KAAKP,KAAL,CAAWlB,KAHpB;AAIE,MAAA,QAAQ,EAAE,KAAKyB,QAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CArCR,eA6CQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA7CR,eA8CQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAEE;AACE,MAAA,IAAI,EAAC,YADP;AAEE,MAAA,IAAI,EAAC,MAFP;AAGE,MAAA,KAAK,EAAE,KAAKP,KAAL,CAAWjB,UAHpB;AAIE,MAAA,QAAQ,EAAE,KAAKwB,QAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CA9CR,eAsDQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAtDR,eAuDQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAEE;AACE,MAAA,IAAI,EAAC,YADP;AAEE,MAAA,IAAI,EAAC,MAFP;AAGE,MAAA,KAAK,EAAE,KAAKP,KAAL,CAAWM,UAHpB;AAIE,MAAA,QAAQ,EAAE,KAAKC,QAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAvDR,CAFQ,eAmEF,oBAAC,MAAD;AACI,MAAA,IAAI,EAAC,QADT;AAEI,MAAA,OAAO,EAAE,KAAKE,QAFlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAnEE,eA2EE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAc,KAAKT,KAAL,CAAWD,OAAzB,CA3EF,eA6EE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAgB,KAAKC,KAAL,CAAWqB,SAA3B,MA7EF,eAgFJ,oBAAC,MAAD;AAAQ,MAAA,EAAE,EAAC,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAiB,KAAKrB,KAAL,CAAWrB,SAA5B,OAAwC,KAAKqB,KAAL,CAAWpB,QAAnD,OAA8D,KAAKoB,KAAL,CAAWG,KAAzE,MAhFI,eAkFE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAmB,KAAKH,KAAL,CAAWT,YAA9B,CAlFF,eAoFE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAsB,KAAKnB,wBAAL,EAAtB,CApFF,eAwFI,oBAAC,KAAD;AAAO,MAAA,MAAM,MAAb;AAAc,MAAA,MAAM,MAApB;AAAqB,MAAA,KAAK,EAAE,QAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,KAAD,CAAO,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,KAAD,CAAO,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,KAAD,CAAO,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI,oBAAC,KAAD,CAAO,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFJ,CADJ,CADJ,eAQI,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI,oBAAC,KAAD,CAAO,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,KAAD,CAAO,IAAP;AAAY,MAAA,SAAS,EAAC,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADA,eAIA,oBAAC,KAAD,CAAO,IAAP;AAAY,MAAA,SAAS,EAAC,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEJ;AAAI,MAAA,EAAE,EAAC,UAAP;AAAkB,MAAA,SAAS,EAAC,eAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,KAAK4B,KAAL,CAAWI,QAAX,CAAoBkB,GAApB,CAAwB,CAACV,OAAD,EAAUW,GAAV,KAAkB;AAChD,0BACE;AAAK,QAAA,SAAS,EAAC,cAAf;AAA+B,QAAA,GAAG,EAAEA,GAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEGX,OAAO,CAAC3B,EAFX,CADF;AAQD,KATO,CADJ,CAFI,CAJA,CAFJ,eA0BI,oBAAC,KAAD,CAAO,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,KAAD,CAAO,IAAP;AAAY,MAAA,UAAU,EAAC,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADA,eAIA,oBAAC,KAAD,CAAO,IAAP;AAAY,MAAA,SAAS,EAAC,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAGA;AAAI,MAAA,EAAE,EAAC,UAAP;AAAkB,MAAA,SAAS,EAAC,eAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,KAAKe,KAAL,CAAWI,QAAX,CAAoBkB,GAApB,CAAwB,CAACV,OAAD,EAAUW,GAAV,KAAkB;AAChD,0BACE;AAAK,QAAA,SAAS,EAAC,cAAf;AAA+B,QAAA,GAAG,EAAEA,GAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGGX,OAAO,CAAClC,GAHX,CADF;AASD,KAVO,CADA,CAHA,CAJA,CA1BJ,eAmDI,oBAAC,KAAD,CAAO,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,KAAD,CAAO,IAAP;AAAY,MAAA,SAAS,EAAC,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADA,eAIA,oBAAC,KAAD,CAAO,IAAP;AAAY,MAAA,SAAS,EAAC,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAGA;AAAI,MAAA,EAAE,EAAC,UAAP;AAAkB,MAAA,SAAS,EAAC,eAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,KAAKsB,KAAL,CAAWI,QAAX,CAAoBkB,GAApB,CAAwB,CAACV,OAAD,EAAUW,GAAV,KAAkB;AAChD,0BACE;AAAK,QAAA,SAAS,EAAC,cAAf;AAA+B,QAAA,GAAG,EAAEA,GAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGGX,OAAO,CAACjC,SAHX,CADF;AASD,KAVO,CADA,CAHA,CAJA,CAnDJ,eA2EI,oBAAC,KAAD,CAAO,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,KAAD,CAAO,IAAP;AAAY,MAAA,SAAS,EAAC,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADA,eAIA,oBAAC,KAAD,CAAO,IAAP;AAAY,MAAA,SAAS,EAAC,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAGA;AAAI,MAAA,EAAE,EAAC,UAAP;AAAkB,MAAA,SAAS,EAAC,eAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,KAAKqB,KAAL,CAAWI,QAAX,CAAoBkB,GAApB,CAAwB,CAACV,OAAD,EAAUW,GAAV,KAAkB;AAChD,0BACE;AAAK,QAAA,SAAS,EAAC,cAAf;AAA+B,QAAA,GAAG,EAAEA,GAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGGX,OAAO,CAAChC,QAHX,CADF;AASD,KAVO,CADA,CAHA,CAJA,CA3EJ,eAoGI,oBAAC,KAAD,CAAO,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,KAAD,CAAO,IAAP;AAAY,MAAA,SAAS,EAAC,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,eAIA,oBAAC,KAAD,CAAO,IAAP;AAAY,MAAA,SAAS,EAAC,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAGA;AAAI,MAAA,EAAE,EAAC,UAAP;AAAkB,MAAA,SAAS,EAAC,eAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,KAAKoB,KAAL,CAAWI,QAAX,CAAoBkB,GAApB,CAAwB,CAACV,OAAD,EAAUW,GAAV,KAAkB;AAChD,0BACE;AAAK,QAAA,SAAS,EAAC,cAAf;AAA+B,QAAA,GAAG,EAAEA,GAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGGX,OAAO,CAAC/B,KAHX,CADF;AASD,KAVO,CADA,CAHA,CAJA,CApGJ,CARJ,CAxFJ,CAJJ;AAyOD;;AAjYyC;AAoY5C,eAAeb,YAAf","sourcesContent":["import React, { Component }  from 'react'\nimport { createContract } from '../ethereum/DiplomaStorageContract'\nimport { Table } from 'semantic-ui-react'\nimport Web3 from 'web3'\nimport { web3 } from '../ethereum/web3'\nimport { Button, Header, Form, Checkbox} from 'semantic-ui-react';\n\n\n\n\nexport class CheckDiploma extends Component {\n\n\n    state = {\n        gotIt: \"\",\n        INE: 0,\n        firstName: 'N/A',\n        lastName: 'N/A',\n        birth: 0,\n        id: 0,\n        dYear : 0,\n        nameDegree : '',\n        nameSchool : '',\n        diplomas: {\n            id: 0,\n            INE: 0,\n            firstName: '',\n            lastName: '',\n            birth: 0,\n            idDegree: 0,\n            nameDegree: 0,\n            schoolName: 'N/A',\n        }\n\n    }\n\n  async componentDidMount () {\n    this.loadBcData()\n    const contract = createContract(this.getDiplomaStorageAddress())\n    this.setState({contract})\n    console.log(\"contrat\",contract)\n    this.getContractState(contract)\n    //await this.getDiploma(this.getDiplomaStorageAddress(),this.state.id)\n  }\n\n  async getDiplomaId(INE,firstName,lastName,birth,dYear,nameDegree,nameSchool){\n    const contract = createContract(this.getDiplomaStorageAddress())\n    const id = await contract.methods.getIdDiploma(INE,firstName,lastName,birth,dYear,nameDegree,'Telecom Sud Paris').call()\n    this.setState({id})\n    console.log('idGetDiplomaID',id)\n    return(id)\n  }\n\n  async getContractState(contract){\n    this.setState({loading:true})\n    const master = await contract.methods.master().call()\n    console.log('master',master)\n    const diplomaCount = await contract.methods.diplomaCount().call()\n    this.setState({diplomaCount: diplomaCount})\n    console.log('dilplomaCount GCS',diplomaCount)\n  }\n\n  async loadBcData(){\n    const web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\")\n    const network = await web3.eth.net.getNetworkType()\n    console.log(\"network\",network)\n    const accounts = await web3.eth.getAccounts()\n    console.log(\"account\", accounts[0])\n    this.setState({account: accounts[0]})\n    console.log(\"addresseContrat\",this.getDiplomaStorageAddress())\n\n    const contract = createContract(this.getDiplomaStorageAddress())\n    this.setState({contract})\n    const diplomaCount = await this.state.contract.methods.diplomaCount().call()\n    this.setState({diplomaCount: diplomaCount})\n  }\n \n  constructor(props) {\n    super(props)\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.state = {\n      gotIt: '',\n      contract: createContract(this.getDiplomaStorageAddress()),\n      INE: 0,\n      firstName: 'N/A',\n      lastName: 'N/A',\n      birth: 0,\n      id : 0,\n      dYear : 0,\n      nameDegree : 'N/A',\n      nameSchool : 'N/A',\n      account: '',\n      diplomaCount: 0,\n      diplomas: [],\n\n      \n    }\n  }\n  \n  \n  getDiplomaStorageAddress () {\n    return '0x64399f5759209029856F40854699f65e57ED4225'\n  }\n\n  async getDiploma(address,id) {\n    const contract = createContract(address)\n    \n    this.setState({ contract })\n    console.log(contract)\n\n    const diploma = await contract.methods.diplomas(id).call()\n    this.setState({\n        diplomas: [diploma]\n    })\n    console.log(\"diploma\", this.state.diplomas)\n\n    const diplomaCount = await contract.methods.diplomaCount().call()\n    this.setState({diplomaCount})\n  }\n\n  \n\n\n\n  async onChange(event) {\n    \n      const target = event.target;\n      const value =  target.value;\n      const name = target.name;\n  \n      await this.setState({\n        [name]: value\n      });\n      console.log(name,value,this.state)  \n  }\n\n  \n\n\n\n    async onSubmit(event) {\n    const contract = createContract(this.getDiplomaStorageAddress())\n    event.preventDefault();\n    const id = await this.getDiplomaId(this.state.INE,this.state.firstName,this.state.lastName,this.state.birth,\n        this.state.dYear,this.state.nameDegree,this.state.nameSchool)\n    console.log('idf',id)\n    if (id > 0) {\n      this.setState({gotIt : \"HO YEAY BROOOOOO YOU GOT IT\"});\n    } else{\n      this.setState({gotIt : \"SORRY BRO\"});\n    }\n\n    await this.getDiploma(this.getDiplomaStorageAddress(),parseInt(id))\n    await this.getDiploma(this.getDiplomaStorageAddress(),this.state.id)\n    console.log('student',this.state.student)\n\n\n    \n}\n\n  render() {\n    return (\n\n      \n      \n        <div>\n\n<form>\n        <label>\n          INE :\n          <input\n            name=\"INE\"\n            type=\"number\"\n            value={this.state.INE}\n            onChange={this.onChange} />\n        </label>\n        <br />\n        <label>\n          firstName :\n          <input\n            name=\"firstName\"\n            type=\"text\"\n            value={this.state.firstName}\n            onChange={this.onChange} />\n        </label>\n        <br />\n        <label>\n          lastName :\n          <input\n            name=\"lastName\"\n            type=\"text\"\n            value={this.state.lastName}\n            onChange={this.onChange} />\n        </label>\n        <br />\n        <label>\n          Birth :\n          <input\n            name=\"birth\"\n            type=\"number\"\n            value={this.state.birth}\n            onChange={this.onChange} />\n        </label>\n        <br />\n        <label>\n          Degree Year :\n          <input\n            name=\"dYear\"\n            type=\"number\"\n            value={this.state.dYear}\n            onChange={this.onChange} />\n        </label>\n        <br />\n        <label>\n          Title of the Degree :\n          <input\n            name=\"nameDegree\"\n            type=\"text\"\n            value={this.state.nameDegree}\n            onChange={this.onChange} />\n        </label>\n        <br />\n        <label>\n          Name of the School :\n          <input\n            name=\"schoolName\"\n            type=\"text\"\n            value={this.state.schoolName}\n            onChange={this.onChange} />\n        </label>\n      </form>\n\n      <Button\n          type='submit'\n          onClick={this.onSubmit}\n          >\n          Submit\n      </Button>\n\n\n          <p>Account : {this.state.account}</p>\n          \n          <p>Diploma Id: {this.state.diplomaId} </p>\n\n\n    <Header as='h1'>{this.state.firstName} {this.state.lastName} {this.state.gotIt} </Header>\n\n          <p>StudentCount : {this.state.diplomaCount}</p>\n\n          <p>Contract address: {this.getDiplomaStorageAddress()}</p>\n\n          \n\n            <Table celled padded color =\"yellow\">\n                <Table.Header>\n                    <Table.Row>\n                        <Table.HeaderCell>Name</Table.HeaderCell>\n                        <Table.HeaderCell>Value</Table.HeaderCell>\n                    </Table.Row>\n                </Table.Header>\n  \n                <Table.Body>\n  \n                    <Table.Row>\n                    <Table.Cell sigleline=\"true\"> \n                       Diploma\n                    </Table.Cell>\n                    <Table.Cell sigleline=\"true\">\n              \n                <ul id=\"taskList\" className=\"list-unstyled\">\n                  { this.state.diplomas.map((diploma, key) => {\n              return(\n                <div className=\"taskTemplate\"  key={key}>\n                  \n                  {diploma.id}\n                  \n                \n                </div>\n              )\n            })}\n          </ul>\n                   \n  \n  \n                    </Table.Cell>\n                    </Table.Row>\n  \n                    <Table.Row>\n                    <Table.Cell ssigleline=\"true\"> \n                       INE\n                    </Table.Cell>\n                    <Table.Cell sigleline=\"true\">\n  \n  \n                    <ul id=\"taskList\" className=\"list-unstyled\">\n                  { this.state.diplomas.map((diploma, key) => {\n              return(\n                <div className=\"taskTemplate\"  key={key}>\n                  \n                    \n                  {diploma.INE}\n                 \n                \n                </div>\n              )\n            })}\n          </ul>\n  \n  \n                    </Table.Cell>\n                    </Table.Row>\n  \n                    <Table.Row>\n                    <Table.Cell sigleline=\"true\"> \n                       First Name \n                    </Table.Cell>\n                    <Table.Cell sigleline=\"true\">\n  \n  \n                    <ul id=\"taskList\" className=\"list-unstyled\">\n                  { this.state.diplomas.map((diploma, key) => {\n              return(\n                <div className=\"taskTemplate\"  key={key}>\n                  \n                    \n                  {diploma.firstName}\n                 \n                \n                </div>\n              )\n            })}\n          </ul>\n  \n                    </Table.Cell>\n                    </Table.Row>\n  \n                    <Table.Row>\n                    <Table.Cell sigleline=\"true\"> \n                       Last Name\n                    </Table.Cell>\n                    <Table.Cell sigleline=\"true\">\n  \n  \n                    <ul id=\"taskList\" className=\"list-unstyled\">\n                  { this.state.diplomas.map((diploma, key) => {\n              return(\n                <div className=\"taskTemplate\"  key={key}>\n                  \n                    \n                  {diploma.lastName}\n                 \n                \n                </div>\n              )\n            })}\n          </ul>\n  \n  \n                    </Table.Cell>\n                    </Table.Row>\n  \n                    <Table.Row>\n                    <Table.Cell sigleline=\"true\"> \n                       Birthday\n                    </Table.Cell>\n                    <Table.Cell sigleline=\"true\">\n  \n  \n                    <ul id=\"taskList\" className=\"list-unstyled\">\n                  { this.state.diplomas.map((diploma, key) => {\n              return(\n                <div className=\"taskTemplate\"  key={key}>\n                  \n                    \n                  {diploma.birth}\n                 \n                \n                </div>\n              )\n            })}\n          </ul>\n  \n  \n                    </Table.Cell>\n                    </Table.Row>\n  \n  \n                </Table.Body>\n            </Table>\n\n        \n          \n        </div>\n    );\n  }\n}\n\nexport default CheckDiploma;"]},"metadata":{},"sourceType":"module"}