{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/Documents/BC_Projects/Diploma-storage-OPPO-/src/components/RenderAddresses.js\";\nimport React, { Component } from 'react';\nimport { createContract } from './../ethereum/DiplomaStorageContract';\nimport { ButtonGroup, Button } from 'react-bootstrap';\nimport { web3 } from './../ethereum/web3';\nimport NavBar from './../assets/NavBar';\nexport class RenderAddresses extends Component {\n  async componentDidMount() {\n    await this.getSchools(this.getDiplomaStorageAddress(), 1);\n  }\n\n  getDiplomaStorageAddress() {\n    return this.props.match.params.address;\n  }\n\n  async getSchools(address, i) {\n    const contract = createContract(address);\n    const accounts = await web3.eth.getAccounts();\n    this.setState({\n      account: accounts[0]\n    });\n    console.log(accounts);\n    this.setState({\n      contract\n    });\n    console.log(contract);\n    const school = await contract.methods.schools(i).call();\n    this.setState({\n      school,\n      school\n    });\n    console.log(this.state.school);\n    const schoolCount = school.count1;\n    this.setState({\n      schoolCount\n    });\n\n    for (var i = 1; i <= schoolCount; i++) {\n      address = this.setState({\n        lv2: [...this.state.lv2, address]\n      });\n    }\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      school: ''\n    };\n    this.state = {\n      account: '',\n      schoolCount: 0,\n      school: '',\n      lv2: []\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NavBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-5 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-10 mb-4 grid-margin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card h-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"card-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 19\n      }\n    }, \"All the schools are here below\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"card-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    }, \"Voici la liste des \\xE9coles enregistr\\xE9s sur la blockchain. \")))))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      className: \"thead-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 7\n      }\n    }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 7\n      }\n    }, \"Name\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 5\n      }\n    }, this.state.lv2.map((address, key) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: key,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }\n      }, address));\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 5\n      }\n    }, this.state.lv2.map((address, key) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: key,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 17\n        }\n      }, address));\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(ButtonGroup, {\n      size: \"lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      onClick: this.onSubmitBack,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }\n    }, \"Back\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"light\",\n      onClick: this.onSubmitReload,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }, \"Refresh\")))));\n  }\n\n  onSubmitBack(event) {\n    event.preventDefault();\n    window.history.back();\n  }\n\n  onSubmitReload(event) {\n    event.preventDefault();\n    window.location.reload();\n  }\n\n}\nexport default RenderAddresses;","map":{"version":3,"sources":["/home/ubuntu/Documents/BC_Projects/Diploma-storage-OPPO-/src/components/RenderAddresses.js"],"names":["React","Component","createContract","ButtonGroup","Button","web3","NavBar","RenderAddresses","componentDidMount","getSchools","getDiplomaStorageAddress","props","match","params","address","i","contract","accounts","eth","getAccounts","setState","account","console","log","school","methods","schools","call","state","schoolCount","count1","lv2","constructor","render","map","key","onSubmitBack","onSubmitReload","event","preventDefault","window","history","back","location","reload"],"mappings":"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","sourcesContent":["import React, { Component }  from 'react'\nimport { createContract } from './../ethereum/DiplomaStorageContract'\nimport { ButtonGroup, Button } from 'react-bootstrap';\nimport { web3 } from './../ethereum/web3';\nimport NavBar from './../assets/NavBar';\n\n\n\n\nexport class RenderAddresses extends Component {\n\n    state = {\n        school:''\n\n    }\n\n  async componentDidMount () {\n    await this.getSchools(this.getDiplomaStorageAddress(),1)\n  }\n  \n  getDiplomaStorageAddress () {\n    return this.props.match.params.address\n  }\n\n  async getSchools(address,i) {\n    const contract = createContract(address)\n    const accounts = await web3.eth.getAccounts()\n    this.setState({ account: accounts[0] })\n    console.log(accounts)\n    \n    this.setState({ contract })\n    console.log(contract)\n    const school = await contract.methods.schools(i).call()\n    this.setState({school,school})\n    console.log(this.state.school)\n\n    const schoolCount = school.count1\n    this.setState({schoolCount})\n\n    \n    \n\n    for (var i = 1; i <= schoolCount; i++) {\n      address = \n      this.setState({\n        lv2: [...this.state.lv2, address]\n      })\n    }\n    \n}\n\nconstructor(props) {\n    super(props)\n    this.state = {\n      account:'',\n      schoolCount: 0,\n      school:'',\n      lv2: [],\n    }\n}\n\n\n\n  render() {\n    return (\n      <div>\n          <header>\n              <NavBar/>\n          </header>\n\n          <div className=\"container\">\n           <div className=\"row mt-5 text-center\">\n            <div className=\"col-lg-10 mb-4 grid-margin\">\n              <div className=\"card h-100\">\n                  <h4 className=\"card-header\">All the schools are here below</h4>\n                  <div className=\"card-body\">\n                    <p className=\"card-text\">Voici la liste des écoles enregistrés sur la blockchain. </p>\n                  </div>\n              </div>\n            </div>\n        </div>    \n      </div>\n          \n            \n      <div>\n     <table className=\"table\">\n      <thead className=\"thead-dark\">\n    <tr>\n      <th scope=\"col\">#</th>\n      <th scope=\"col\">Name</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n    <th scope=\"row\">\n          { this.state.lv2.map((address, key) => {\n            return(\n              \n              <div key={key}>\n                <td>\n                  {address}\n                </td>\n              </div>\n              \n             )\n          })}\n      </th>\n\n    <td>\n    { this.state.lv2.map((address, key) => {\n            return(\n              \n              <div key={key}>\n                <td>\n                  {address}\n                </td>\n              </div>\n              \n             )\n          })}\n    </td> \n    </tr>\n  </tbody>\n</table>\n\n\n    <div className=\"container\">\n          <ButtonGroup size=\"lg\" >\n                <Button variant=\"primary\" \n                    onClick={this.onSubmitBack}\n                    >Back\n                </Button>\n                <Button variant=\"light\" \n                    onClick={this.onSubmitReload}\n                    >Refresh\n                </Button>\n          </ButtonGroup>\n    </div> \n                  \n  </div>  \n      \n</div>\n    );\n  }\n\n  onSubmitBack(event) {\n    event.preventDefault();\n    window.history.back()\n}\n\nonSubmitReload(event) {\n    event.preventDefault();\n    window.location.reload()\n}\n}\n\nexport default RenderAddresses;"]},"metadata":{},"sourceType":"module"}